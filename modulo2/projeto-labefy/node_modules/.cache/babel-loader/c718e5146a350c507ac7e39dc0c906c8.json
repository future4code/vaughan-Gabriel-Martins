{"ast":null,"code":"import _classCallCheck from\"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import axios from\"axios\";import{AuthorizationUser,BASE_URL}from'../../constants/urls';import{PlayListToScreenBox,MainBox}from'./styled';import CreatePlaylist from\"../../components/CreatePlaylist/CreatePlaylist\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PlayListPage=/*#__PURE__*/function(_React$Component){_inherits(PlayListPage,_React$Component);var _super=_createSuper(PlayListPage);function PlayListPage(){var _this;_classCallCheck(this,PlayListPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={playLists:[],isedit:true};_this.getAllPlaylists=function(){var url=\"\".concat(BASE_URL);var axiosConfig={headers:{Authorization:AuthorizationUser}};axios.get(url,axiosConfig).then(function(res){console.log(res.data.result.list);_this.setState({playLists:res.data.result.list});}).catch(function(err){return console.log(err.response);});};_this.deletePlaylist=function(id){var url=\"\".concat(BASE_URL,\"/\").concat(id);var axiosConfig={headers:{Authorization:AuthorizationUser}};axios.delete(url,axiosConfig).then(function(res){console.log(res);_this.getAllPlaylists();}).catch(function(err){return console.log(err);});};_this.createPlaylistEdit=function(){_this.setState({isedit:!_this.state.isedit});};_this.onClickDelete=function(id){_this.deletePlaylist(id);};return _this;}_createClass(PlayListPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAllPlaylists();}},{key:\"render\",value:function render(){var _this2=this;console.log('playslist',this.state.playLists);var playListToScreen=this.state.playLists.map(function(item){return/*#__PURE__*/_jsxs(PlayListToScreenBox,{children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return _this2.props.onClickChangingPageToDetail(item.id);},children:item.name}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.onClickDelete(item.id);},children:\"X\"})]},item.name);});return/*#__PURE__*/_jsxs(MainBox,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"PlayLists\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.createPlaylistEdit,children:\"Criar PlayList\"}),/*#__PURE__*/_jsx(\"div\",{children:playListToScreen}),this.state.isedit||/*#__PURE__*/_jsx(CreatePlaylist,{getAllPlaylists:this.getAllPlaylists})]});}}]);return PlayListPage;}(React.Component);export default PlayListPage;","map":{"version":3,"sources":["/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/src/pages/PlayListPage/PlayListPage.js"],"names":["React","axios","AuthorizationUser","BASE_URL","PlayListToScreenBox","MainBox","CreatePlaylist","PlayListPage","state","playLists","isedit","getAllPlaylists","url","axiosConfig","headers","Authorization","get","then","res","console","log","data","result","list","setState","catch","err","response","deletePlaylist","id","delete","createPlaylistEdit","onClickDelete","playListToScreen","map","item","props","onClickChangingPageToDetail","name","Component"],"mappings":"otBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,iBAAT,CAA4BC,QAA5B,KAA4C,sBAA5C,CACA,OAASC,mBAAT,CAA8BC,OAA9B,KAA6C,UAA7C,CAEA,MAAQC,CAAAA,cAAR,KAA6B,gDAA7B,C,2FAEMC,CAAAA,Y,+VACJC,K,CAAQ,CACNC,SAAS,CAAE,EADL,CAENC,MAAM,CAAC,IAFD,C,OASRC,e,CAAkB,UAAM,CACtB,GAAMC,CAAAA,GAAG,WAAMT,QAAN,CAAT,CACA,GAAMU,CAAAA,WAAW,CAAG,CAClBC,OAAO,CAAE,CACPC,aAAa,CAAEb,iBADR,CADS,CAApB,CAKAD,KAAK,CACFe,GADH,CACOJ,GADP,CACYC,WADZ,EAEGI,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,MAAT,CAAgBC,IAA5B,EACA,MAAKC,QAAL,CAAc,CACZf,SAAS,CAAES,GAAG,CAACG,IAAJ,CAASC,MAAT,CAAgBC,IADf,CAAd,EAGD,CAPH,EAQGE,KARH,CAQS,SAAAC,GAAG,QAAIP,CAAAA,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,QAAhB,CAAJ,EARZ,EASD,C,OACDC,c,CAAe,SAACC,EAAD,CAAQ,CACrB,GAAMjB,CAAAA,GAAG,WAAMT,QAAN,aAAkB0B,EAAlB,CAAT,CACA,GAAMhB,CAAAA,WAAW,CAAG,CAACC,OAAO,CAAC,CAACC,aAAa,CAACb,iBAAf,CAAT,CAApB,CAEAD,KAAK,CACF6B,MADH,CACUlB,GADV,CACeC,WADf,EAEGI,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,MAAKP,eAAL,GACD,CALH,EAMGc,KANH,CAMS,SAAAC,GAAG,QAAIP,CAAAA,OAAO,CAACC,GAAR,CAAaM,GAAb,CAAJ,EANZ,EAQD,C,OAIDK,kB,CAAqB,UAAM,CACzB,MAAKP,QAAL,CAAc,CACZd,MAAM,CAAE,CAAC,MAAKF,KAAL,CAAWE,MADR,CAAd,EAGC,C,OAEHsB,a,CAAgB,SAACH,EAAD,CAAQ,CACtB,MAAKD,cAAL,CAAoBC,EAApB,EACD,C,yEA7CD,4BAAoB,CAClB,KAAKlB,eAAL,GACD,C,sBA+CD,iBAAS,iBACPQ,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyB,KAAKZ,KAAL,CAAWC,SAApC,EACA,GAAMwB,CAAAA,gBAAgB,CAAG,KAAKzB,KAAL,CAAWC,SAAX,CAAqByB,GAArB,CAAyB,SAAAC,IAAI,CAAI,CACxD,mBAAM,MAAC,mBAAD,yBAAqC,YAEzC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,KAAL,CAAWC,2BAAX,CAAuCF,IAAI,CAACN,EAA5C,CAAN,EAFgC,UAIxCM,IAAI,CAACG,IAJmC,EAArC,cAOJ,eAAQ,OAAO,CAAE,yBAAK,CAAA,MAAI,CAACN,aAAL,CAAmBG,IAAI,CAACN,EAAxB,CAAL,EAAjB,eAPI,GAA0BM,IAAI,CAACG,IAA/B,CAAN,CAUD,CAXwB,CAAzB,CAYA,mBACE,MAAC,OAAD,yBACE,iCADF,cAEE,eAAQ,OAAO,CAAE,KAAKP,kBAAtB,4BAFF,cAGE,qBAAME,gBAAN,EAHF,CAIG,KAAKzB,KAAL,CAAWE,MAAX,eAAqB,KAAC,cAAD,EACtB,eAAe,CAAE,KAAKC,eADA,EAJxB,GADF,CAUD,C,0BA/EwBX,KAAK,CAACuC,S,EAiFjC,cAAehC,CAAAA,YAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nimport { AuthorizationUser, BASE_URL } from '../../constants/urls';\nimport { PlayListToScreenBox, MainBox } from './styled';\n\nimport  CreatePlaylist  from \"../../components/CreatePlaylist/CreatePlaylist\";\n\nclass PlayListPage extends React.Component {\n  state = {\n    playLists: [],\n    isedit:true,\n  }\n\n  componentDidMount() {\n    this.getAllPlaylists()\n  }\n\n  getAllPlaylists = () => {\n    const url = `${BASE_URL}`\n    const axiosConfig = {\n      headers: {\n        Authorization: AuthorizationUser\n      }\n    }\n    axios\n      .get(url, axiosConfig)\n      .then((res) => {\n        console.log(res.data.result.list)\n        this.setState({\n          playLists: res.data.result.list\n        })\n      })\n      .catch(err => console.log(err.response))\n  }\n  deletePlaylist=(id) => { \n    const url = `${BASE_URL}/${id}`; \n    const axiosConfig = {headers:{Authorization:AuthorizationUser}}\n\n    axios\n      .delete(url, axiosConfig)\n      .then(res => {\n        console.log(res);\n        this.getAllPlaylists();\n      })\n      .catch(err => console.log( err));\n\n  }\n\n\n\n  createPlaylistEdit = () => {\n    this.setState({\n      isedit: !this.state.isedit\n    })   \n    }\n    \n  onClickDelete = (id) => { \n    this.deletePlaylist(id)\n  }\n  \n\n\n  render() {\n    console.log('playslist', this.state.playLists)\n    const playListToScreen = this.state.playLists.map(item => {\n      return<PlayListToScreenBox key={item.name}><div\n       \n        onClick={() => this.props.onClickChangingPageToDetail(item.id)}\n      > \n        {item.name} \n\n      </div>\n        <button onClick={() =>this.onClickDelete(item.id)}>X</button>\n      </PlayListToScreenBox>\n      \n    })\n    return (\n      <MainBox>\n        <h1>PlayLists</h1>\n        <button onClick={this.createPlaylistEdit}>Criar PlayList</button>\n        <div>{playListToScreen}</div>\n        {this.state.isedit || <CreatePlaylist\n        getAllPlaylists={this.getAllPlaylists}\n        />}\n      </MainBox>\n    )\n  }\n}\nexport default PlayListPage;"]},"metadata":{},"sourceType":"module"}