{"ast":null,"code":"var _jsxFileName = \"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/src/pages/PlayListPage/PlayListPage.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { AuthorizationUser, BASE_URL } from '../../constants/urls';\nimport { PlayListToScreenBox } from './styled';\nimport CreatePlaylist from \"../../components/CreatePlaylist/CreatePlaylist\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass PlayListPage extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      playLists: [],\n      isedit: true\n    };\n\n    this.getAllPlaylists = () => {\n      const url = `${BASE_URL}`;\n      const axiosConfig = {\n        headers: {\n          Authorization: AuthorizationUser\n        }\n      };\n      axios.get(url, axiosConfig).then(res => {\n        console.log(res.data.result.list);\n        this.setState({\n          playLists: res.data.result.list\n        });\n      }).catch(err => console.log(err.response));\n    };\n\n    this.deletePlaylist = id => {\n      const url = `${BASE_URL}/${id}`;\n      const axiosConfig = {\n        headers: {\n          Authorization: AuthorizationUser\n        }\n      };\n      axios.delete(url, axiosConfig).then(res => console.log(res)).catch(err => console.log(err));\n    };\n\n    this.createPlaylistEdit = () => {\n      this.setState({\n        isedit: !this.state.isedit\n      });\n    };\n\n    this.onClickDelete = id => {\n      this.deletePlaylist(id);\n    };\n  }\n\n  componentDidMount() {\n    this.getAllPlaylists();\n  }\n\n  render() {\n    console.log('playslist', this.state.playLists);\n    const playListToScreen = this.state.playLists.map(item => {\n      return /*#__PURE__*/_jsxDEV(PlayListToScreenBox, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => this.props.onClickChangingPageToDetail(item.id),\n          children: item.name\n        }, item.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.onClickDelete(item.id),\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"PlayListPage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.createPlaylistEdit,\n        children: \"Criar PlayList\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: playListToScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), this.state.isedit || /*#__PURE__*/_jsxDEV(CreatePlaylist, {\n        getAllPlaylists: this.getAllPlaylists\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default PlayListPage;","map":{"version":3,"sources":["/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/src/pages/PlayListPage/PlayListPage.js"],"names":["React","axios","AuthorizationUser","BASE_URL","PlayListToScreenBox","CreatePlaylist","PlayListPage","Component","state","playLists","isedit","getAllPlaylists","url","axiosConfig","headers","Authorization","get","then","res","console","log","data","result","list","setState","catch","err","response","deletePlaylist","id","delete","createPlaylistEdit","onClickDelete","componentDidMount","render","playListToScreen","map","item","props","onClickChangingPageToDetail","name"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nimport { AuthorizationUser, BASE_URL } from '../../constants/urls';\nimport { PlayListToScreenBox } from './styled';\n\nimport  CreatePlaylist  from \"../../components/CreatePlaylist/CreatePlaylist\";\n\nclass PlayListPage extends React.Component {\n  state = {\n    playLists: [],\n    isedit:true,\n  }\n\n  componentDidMount() {\n    this.getAllPlaylists()\n  }\n\n  getAllPlaylists = () => {\n    const url = `${BASE_URL}`\n    const axiosConfig = {\n      headers: {\n        Authorization: AuthorizationUser\n      }\n    }\n    axios\n      .get(url, axiosConfig)\n      .then((res) => {\n        console.log(res.data.result.list)\n        this.setState({\n          playLists: res.data.result.list\n        })\n      })\n      .catch(err => console.log(err.response))\n  }\n  deletePlaylist=(id) => { \n    const url = `${BASE_URL}/${id}`; \n    const axiosConfig = {headers:{Authorization:AuthorizationUser}}\n\n    axios\n      .delete(url, axiosConfig)\n      .then(res => console.log(res))\n      .catch(err => console.log( err))\n\n\n  }\n\n\n\n  createPlaylistEdit = () => {\n    this.setState({\n      isedit: !this.state.isedit\n    })   \n    }\n    \n  onClickDelete = (id) => { \n    this.deletePlaylist(id)\n  }\n  \n\n\n  render() {\n    console.log('playslist', this.state.playLists)\n    const playListToScreen = this.state.playLists.map(item => {\n      return<PlayListToScreenBox><div\n        key={item.name}\n        onClick={() => this.props.onClickChangingPageToDetail(item.id)}\n      > \n        {item.name} \n\n      </div>\n        <button onClick={() =>this.onClickDelete(item.id)}>X</button>\n      </PlayListToScreenBox>\n      \n    })\n    return (\n      <>\n        <h1>PlayListPage</h1>\n        <button onClick={this.createPlaylistEdit}>Criar PlayList</button>\n        <div>{playListToScreen}</div>\n        {this.state.isedit || <CreatePlaylist\n        getAllPlaylists={this.getAllPlaylists}\n        />}\n      </>\n    )\n  }\n}\nexport default PlayListPage;"]},"metadata":{},"sourceType":"module"}