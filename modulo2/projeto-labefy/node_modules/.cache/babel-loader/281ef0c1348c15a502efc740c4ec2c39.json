{"ast":null,"code":"import _classCallCheck from\"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import axios from\"axios\";import React from\"react\";import ReactAudioPlayer from'react-audio-player';import{BASE_URL,AuthorizationUser}from\"../../constants/urls\";import{TracksBox,MainBoxPlayListDetail}from'./styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PlayListDetailPage=/*#__PURE__*/function(_React$Component){_inherits(PlayListDetailPage,_React$Component);var _super=_createSuper(PlayListDetailPage);function PlayListDetailPage(){var _this;_classCallCheck(this,PlayListDetailPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={playlistTracks:[],nameMusic:'',nameArtist:'',url:'',music:''};_this.getPlaylistTracks=function(idList){var url=\"\".concat(BASE_URL,\"/\").concat(idList,\"/tracks\");var axiosConfig={headers:{Authorization:AuthorizationUser}};axios.get(url,axiosConfig).then(function(res){_this.setState({playlistTracks:res.data.result.tracks,nameMusic:'',nameArtist:'',url:''});}).catch(function(err){return console.log(err);});};_this.addTrackToPlaylist=function(idPlaylist){var url=\"\".concat(BASE_URL,\"/\").concat(idPlaylist,\"/tracks\");var axiosConfig={headers:{Authorization:AuthorizationUser}};var body={name:_this.state.nameMusic,artist:_this.state.nameArtist,url:_this.state.url};axios.post(url,body,axiosConfig).then(function(res){console.log(res);_this.getPlaylistTracks(_this.props.listId);alert('Musica Adicionada');}).catch(function(err){return console.log(err);});};_this.removeTrackFromPlaylist=function(idlist,idMusic){var url=\"\".concat(BASE_URL,\"/\").concat(idlist,\"/tracks/\").concat(idMusic);var axiosConfig={headers:{Authorization:AuthorizationUser}};axios.delete(url,axiosConfig).then(function(res){console.log(res);_this.getPlaylistTracks(_this.props.listId);alert('Musica deletada');}).catch(function(err){return console.log(err);});};_this.onChangeNameMusic=function(e){_this.setState({nameMusic:e.target.value});};_this.onChangeNameSinger=function(e){_this.setState({nameArtist:e.target.value});};_this.onChangeURL=function(e){_this.setState({url:e.target.value});};_this.addMusic=function(){console.log('clicado');_this.addTrackToPlaylist(_this.props.listId);};_this.onClickDelete=function(idMusic){console.log('Delete clicado',idMusic);_this.removeTrackFromPlaylist(_this.props.listId,idMusic);};return _this;}_createClass(PlayListDetailPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.getPlaylistTracks(this.props.listId);console.log('didmount');}},{key:\"render\",value:function render(){var _this2=this;console.log(this.state.playlistTracks);// console.log(this.props.listId)\nvar tracks=this.state.playlistTracks.map(function(item){return/*#__PURE__*/_jsxs(TracksBox,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.name,\" \",item.artist,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.onClickDelete(item.id);},children:\"Deletar\"})]}),/*#__PURE__*/_jsx(\"audio\",{id:\"Test_Audio\",controls:true,children:/*#__PURE__*/_jsx(\"source\",{src:item.url,type:\"audio/mpeg\"})})]},item.id);});return/*#__PURE__*/_jsxs(MainBoxPlayListDetail,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.props.onClickGotoList,children:\"Voltar\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Play Detail Page\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.nameMusic,onChange:this.onChangeNameMusic,placeholder:\"Nome da musica\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.nameArtist,onChange:this.onChangeNameSinger,placeholder:\"Nome da Banda\"}),/*#__PURE__*/_jsx(\"input\",{value:this.state.url,onChange:this.onChangeURL,placeholder:\"URL\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.addMusic,children:\"Add Music\"}),tracks]});}}]);return PlayListDetailPage;}(React.Component);export default PlayListDetailPage;","map":{"version":3,"sources":["/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/src/pages/PlayListDetailPage/PlayListDetailPage.js"],"names":["axios","React","ReactAudioPlayer","BASE_URL","AuthorizationUser","TracksBox","MainBoxPlayListDetail","PlayListDetailPage","state","playlistTracks","nameMusic","nameArtist","url","music","getPlaylistTracks","idList","axiosConfig","headers","Authorization","get","then","res","setState","data","result","tracks","catch","err","console","log","addTrackToPlaylist","idPlaylist","body","name","artist","post","props","listId","alert","removeTrackFromPlaylist","idlist","idMusic","delete","onChangeNameMusic","e","target","value","onChangeNameSinger","onChangeURL","addMusic","onClickDelete","map","item","id","onClickGotoList","Component"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport ReactAudioPlayer from 'react-audio-player';\nimport { BASE_URL,  AuthorizationUser } from \"../../constants/urls\";\nimport {TracksBox, MainBoxPlayListDetail} from './styled'\n\n\n\nclass PlayListDetailPage extends React.Component  { \n  state ={ \n    playlistTracks:[],\n    nameMusic:'',\n    nameArtist:'', \n    url:'',\n    music:'',\n  }\n\n  componentDidMount(){\n    this.getPlaylistTracks(this.props.listId)\n    console.log('didmount')\n  }\n   \n  getPlaylistTracks =(idList)=>{ \n    const url= `${BASE_URL}/${idList}/tracks`\n    const axiosConfig ={headers:{Authorization: AuthorizationUser}}\n    axios\n      .get(url, axiosConfig)\n      .then(res =>{\n        this.setState({\n          playlistTracks: (res.data.result.tracks),\n          nameMusic:'',\n          nameArtist:'', \n          url:'',\n        }) \n      })\n      .catch( err => console.log(err))\n  }\n\n  addTrackToPlaylist = (idPlaylist)=> { \n    const url= `${BASE_URL}/${idPlaylist}/tracks`\n    const axiosConfig ={headers:{Authorization: AuthorizationUser}}\n    const body ={ name:this.state.nameMusic , artist:this.state.nameArtist , url:this.state.url }\n\n    axios\n      .post(url,body,axiosConfig)\n      .then(res => { \n        console.log(res)\n         this.getPlaylistTracks(this.props.listId);\n         alert('Musica Adicionada');\n      })\n      .catch(err => console.log(err))\n  }\n\n  removeTrackFromPlaylist = (idlist ,idMusic)=> { \n    const url = `${BASE_URL}/${idlist}/tracks/${idMusic}`;\n    const axiosConfig ={headers:{Authorization: AuthorizationUser}};\n\n    axios\n      .delete(url, axiosConfig)\n      .then(res => { \n        console.log(res)\n         this.getPlaylistTracks(this.props.listId);\n         alert('Musica deletada');\n      })\n      .catch(err => console.log(err))\n  }\n\n  onChangeNameMusic =(e)=>{\n    this.setState({nameMusic:e.target.value})\n  }\n  onChangeNameSinger =(e) => { \n    this.setState({ nameArtist:e.target.value})\n  }\n  onChangeURL =(e)=> { \n    this.setState({url:e.target.value})\n  }\n  addMusic =() => { \n    console.log('clicado')\n    this.addTrackToPlaylist(this.props.listId)\n  }\n\n  // givenUrl = (url)=>{ \n  //   this.setState({music : new Audio(url)})\n  //   console.log(this.state.music)\n  // }\n  \n  onClickDelete = (idMusic)=> { \n    console.log('Delete clicado', idMusic)\n    this.removeTrackFromPlaylist( this.props.listId,idMusic)\n  \n  }\n\n  render(){ \n    console.log(this.state.playlistTracks)\n    // console.log(this.props.listId)\n     const tracks = this.state.playlistTracks.map(item => { \n       return<TracksBox key={item.id} >\n         \n          <p>{item.name} {item.artist} <button onClick={()=>this.onClickDelete(item.id)}>Deletar</button></p>\n          {/* <p>{item.url} </p>\n          <p>{item.id}</p> */}\n        {/* <ReactAudioPlayer src={item.url}  controls/> */}\n\n        <audio id=\"Test_Audio\" controls>\n        <source src={item.url} type=\"audio/mpeg\"/>\n        </audio>\n\n       </TracksBox> \n     })\n\n\n    return(  \n          \n        <MainBoxPlayListDetail>\n        <button onClick={this.props.onClickGotoList}>Voltar</button>\n        <h1>Play Detail Page</h1>\n        <input value={this.state.nameMusic} onChange={this.onChangeNameMusic} \n        placeholder=\"Nome da musica\"/>\n        <input value={this.state.nameArtist} onChange={this.onChangeNameSinger} \n        placeholder=\"Nome da Banda\"/>\n        <input value={this.state.url} onChange={this.onChangeURL} placeholder=\"URL\"/>\n        <button onClick={this.addMusic}>Add Music</button>\n        {tracks}\n        </MainBoxPlayListDetail>\n    )\n  }\n\n}\n\nexport default PlayListDetailPage;"]},"metadata":{},"sourceType":"module"}