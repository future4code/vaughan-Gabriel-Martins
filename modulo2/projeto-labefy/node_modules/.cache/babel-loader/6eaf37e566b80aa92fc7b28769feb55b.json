{"ast":null,"code":"var _jsxFileName = \"/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/src/pages/PlayListPage/PlayListPage.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { AuthorizationUser, BASE_URL } from '../../constants/urls';\nimport { PlayListToScreenBox, MainBox } from './styled';\nimport CreatePlaylist from \"../../components/CreatePlaylist/CreatePlaylist\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PlayListPage extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      playLists: [],\n      isedit: true\n    };\n\n    this.getAllPlaylists = () => {\n      const url = `${BASE_URL}`;\n      const axiosConfig = {\n        headers: {\n          Authorization: AuthorizationUser\n        }\n      };\n      axios.get(url, axiosConfig).then(res => {\n        console.log(res.data.result.list);\n        this.setState({\n          playLists: res.data.result.list\n        });\n      }).catch(err => console.log(err.response));\n    };\n\n    this.deletePlaylist = id => {\n      const url = `${BASE_URL}/${id}`;\n      const axiosConfig = {\n        headers: {\n          Authorization: AuthorizationUser\n        }\n      };\n      axios.delete(url, axiosConfig).then(res => {\n        console.log(res);\n        this.getAllPlaylists();\n      }).catch(err => console.log(err));\n    };\n\n    this.createPlaylistEdit = () => {\n      this.setState({\n        isedit: !this.state.isedit\n      });\n    };\n\n    this.onClickDelete = id => {\n      this.deletePlaylist(id);\n    };\n  }\n\n  componentDidMount() {\n    this.getAllPlaylists();\n  }\n\n  render() {\n    console.log('playslist', this.state.playLists);\n    const playListToScreen = this.state.playLists.map(item => {\n      return /*#__PURE__*/_jsxDEV(PlayListToScreenBox, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => this.props.onClickChangingPageToDetail(item.id),\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 50\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.onClickDelete(item.id),\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this)]\n      }, item.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(MainBox, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Play Lists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.createPlaylistEdit,\n        children: \"Criar PlayList\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: playListToScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), this.state.isedit || /*#__PURE__*/_jsxDEV(CreatePlaylist, {\n        getAllPlaylists: this.getAllPlaylists\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default PlayListPage;","map":{"version":3,"sources":["/Users/gdlmartins/Desktop/ti/labenu/semana01/codigos/vaughan-Gabriel-Martins/modulo2/projeto-labefy/src/pages/PlayListPage/PlayListPage.js"],"names":["React","axios","AuthorizationUser","BASE_URL","PlayListToScreenBox","MainBox","CreatePlaylist","PlayListPage","Component","state","playLists","isedit","getAllPlaylists","url","axiosConfig","headers","Authorization","get","then","res","console","log","data","result","list","setState","catch","err","response","deletePlaylist","id","delete","createPlaylistEdit","onClickDelete","componentDidMount","render","playListToScreen","map","item","props","onClickChangingPageToDetail","name"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nimport { AuthorizationUser, BASE_URL } from '../../constants/urls';\nimport { PlayListToScreenBox, MainBox } from './styled';\n\nimport  CreatePlaylist  from \"../../components/CreatePlaylist/CreatePlaylist\";\n\nclass PlayListPage extends React.Component {\n  state = {\n    playLists: [],\n    isedit:true,\n  }\n\n  componentDidMount() {\n    this.getAllPlaylists()\n  }\n\n  getAllPlaylists = () => {\n    const url = `${BASE_URL}`\n    const axiosConfig = {\n      headers: {\n        Authorization: AuthorizationUser\n      }\n    }\n    axios\n      .get(url, axiosConfig)\n      .then((res) => {\n        console.log(res.data.result.list)\n        this.setState({\n          playLists: res.data.result.list\n        })\n      })\n      .catch(err => console.log(err.response))\n  }\n  deletePlaylist=(id) => { \n    const url = `${BASE_URL}/${id}`; \n    const axiosConfig = {headers:{Authorization:AuthorizationUser}}\n\n    axios\n      .delete(url, axiosConfig)\n      .then(res => {\n        console.log(res);\n        this.getAllPlaylists();\n      })\n      .catch(err => console.log( err));\n\n  }\n\n\n\n  createPlaylistEdit = () => {\n    this.setState({\n      isedit: !this.state.isedit\n    })   \n    }\n    \n  onClickDelete = (id) => { \n    this.deletePlaylist(id)\n  }\n  \n\n\n  render() {\n    console.log('playslist', this.state.playLists)\n    const playListToScreen = this.state.playLists.map(item => {\n      return<PlayListToScreenBox key={item.name}><div\n       \n        onClick={() => this.props.onClickChangingPageToDetail(item.id)}\n      > \n        {item.name} \n\n      </div>\n        <button onClick={() =>this.onClickDelete(item.id)}>X</button>\n      </PlayListToScreenBox>\n      \n    })\n    return (\n      <MainBox>\n        <h1>Play Lists</h1>\n        <button onClick={this.createPlaylistEdit}>Criar PlayList</button>\n        <div>{playListToScreen}</div>\n        {this.state.isedit || <CreatePlaylist\n        getAllPlaylists={this.getAllPlaylists}\n        />}\n      </MainBox>\n    )\n  }\n}\nexport default PlayListPage;"]},"metadata":{},"sourceType":"module"}